<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Trivia Questions</title>
  </head>
  <body>
    <h1>Manage Trivia Questions</h1>

    <!-- Search form -->
    <form action="/triviaGame/manage" method="GET">
      <input
        type="text"
        name="q"
        placeholder="Search by question..."
        required
      />
      <button type="submit">Search</button>
    </form>

    <!-- Questions -->
    <h2>
      <% if (searchResults && searchResults.length > 0) { %>Search Results<% }
      else { %>Existing Questions<% } %>
    </h2>

    <ul>
      <% if (searchResults && searchResults.length > 0) { %> <%
      searchResults.forEach((question) => { %>
      <li>
        <strong><%= question.question %></strong><br />
        Correct Answer: <%= question.correct_answer %><br />
        Incorrect Answers: <%= Array.isArray(question.incorrect_answers) ?
        question.incorrect_answers.join(", ") : "None provided" %>
      </li>
      <% }); %> <% } else if (triviaQuestions && triviaQuestions.length > 0) {
      %> <% triviaQuestions.forEach((question) => { %>
      <li>
        <strong><%= question.question %></strong><br />
        Correct Answer: <%= question.correct_answer %><br />
        Incorrect Answers: <%= Array.isArray(question.incorrect_answers) ?
        question.incorrect_answers.join(", ") : "None provided" %>
      </li>
      <% }); %> <% } else { %>
      <li>No questions available.</li>
      <% } %>
    </ul>
  </body>
</html>
